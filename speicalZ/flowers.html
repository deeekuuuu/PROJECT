<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Flower Garden</title>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      overflow: hidden;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #fff5e6;

      /* Push content below navbar */
      padding-top: 60px;
    }
    
    #c {
      display: block;
      cursor: crosshair;
      touch-action: none;
    }

    /* NAV BAR */
    .header{
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 9999;
      height: 55px;
      background: rgba(255,245,230,0.9);
      border-bottom: 1px solid #dc465a;
      padding: 10px 14px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .nav-left,
    .nav-right{
      display: flex;
      gap: 8px;
    }

    .title{
      font-weight: 600;
      color: #dc465a;
      font-size: 16px;
    }
    
    .controls {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 10;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    
    .btn {
      padding: 10px 20px;
      background: rgba(220, 70, 90, 0.1);
      border: 2px solid #dc465a;
      color: #dc465a;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }
    
    .btn:hover {
      background: rgba(220, 70, 90, 0.2);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(220, 70, 90, 0.3);
    }
    
    .btn:active {
      transform: translateY(0);
    }
    
    .instructions {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      padding: 15px 30px;
      background: rgba(255, 245, 230, 0.9);
      border: 2px solid #dc465a;
      color: #dc465a;
      border-radius: 12px;
      font-size: 14px;
      text-align: center;
      backdrop-filter: blur(10px);
      z-index: 10;
      max-width: 90%;
    }
    
    @media (max-width: 600px) {
      .controls {
        top: 10px;
        left: 10px;
        gap: 8px;
      }
      
      .btn {
        padding: 8px 16px;
        font-size: 12px;
      }
      
      .instructions {
        bottom: 10px;
        padding: 10px 20px;
        font-size: 12px;
      }
    }
  </style>
</head>

<body>

<!-- NAV BAR -->
<div class="header">

  <div class="nav-left">
    <button class="btn" onclick="goHome()">← Home</button>
  </div>

  <div class="title">Flowers</div>

  <div class="nav-right">
    <button class="btn" onclick="goEnscribe()">Enscribe</button>
    <button class="btn" onclick="goLines()">Lines</button>
    <button class="btn" onclick="goSongs()">Songs →</button>
  </div>

</div>
<!-- END NAV -->

<canvas id="c"></canvas>
  
<div class="controls">
  <button class="btn" onclick="clearGarden()">Clear Garden</button>
</div>
  
<div class="instructions" id="instructions">
  here are some flowerrss for my cutuuuu saaa baachaaaaa muuuah
</div>

<script>

/* ===============================
   FLOWER CANVAS CODE (UNCHANGED)
   =============================== */

class FlowerGarden {
  constructor(canvasId) {
    this.canvas = document.getElementById(canvasId);
    this.ctx = this.canvas.getContext("2d", { alpha: false });
    
    this.plants = [];
    this.drawing = false;
    this.currentPath = [];
    this.wind = 0;
    this.animationId = null;
    
    this.config = {
      types: ["rose"],
      minPathLength: 4,
      maxSize: 120,
      sizeMultiplier: 4,
      growthSpeed: 1.4,
      flowerGrowthSpeed: 0.5,
      branchProbability: 0,
      branchSpread: 0.35,
      fadeAlpha: 1.0,
      windSpeed: 0.01
    };
    
    this.init();
  }
  
  init() {
    this.resize();
    this.setupEventListeners();
    this.animate();
  }
  
  resize() {
    this.canvas.width = window.innerWidth;
    this.canvas.height = window.innerHeight;
  }
  
  setupEventListeners() {
    window.addEventListener("resize", () => this.resize());
    
    this.canvas.addEventListener("touchstart", (e) => this.handleStart(e), { passive: false });
    this.canvas.addEventListener("touchmove", (e) => this.handleMove(e), { passive: false });
    this.canvas.addEventListener("touchend", () => this.handleEnd());
    
    this.canvas.addEventListener("mousedown", (e) => this.handleStart(e));
    this.canvas.addEventListener("mousemove", (e) => this.handleMove(e));
    this.canvas.addEventListener("mouseup", () => this.handleEnd());
    this.canvas.addEventListener("mouseleave", () => this.handleEnd());
  }
  
  getPosition(e) {
    if (e.touches && e.touches.length > 0) {
      return {
        x: e.touches[0].clientX,
        y: e.touches[0].clientY
      };
    }
    return {
      x: e.clientX,
      y: e.clientY
    };
  }
  
  handleStart(e) {
    e.preventDefault();
    this.drawing = true;
    this.currentPath = [this.getPosition(e)];
  }
  
  handleMove(e) {
    if (!this.drawing) return;
    e.preventDefault();
    this.currentPath.push(this.getPosition(e));
  }
  
  handleEnd() {
    if (!this.drawing) return;
    this.drawing = false;
    
    if (this.currentPath.length > this.config.minPathLength) {
      this.createPlant();
    }
    
    this.currentPath = [];
  }
  
  createPlant() {
    const firstPoint = this.currentPath[0];
    const size = Math.min(
      this.config.maxSize,
      this.currentPath.length * this.config.sizeMultiplier
    );
    
    const plant = new Branch(
      firstPoint.x,
      firstPoint.y,
      "rose",
      this.config
    );
    plant.target = size;
    
    this.plants.push(plant);
  }
  
  drawBackground() {
    this.ctx.fillStyle = `#fff5e6`;
    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
  }
  
  drawCurrentPath() {
    if (this.currentPath.length < 2) return;
    
    this.ctx.strokeStyle = "#dc465a";
    this.ctx.lineWidth = 2;
    
    this.ctx.beginPath();
    this.ctx.moveTo(this.currentPath[0].x, this.currentPath[0].y);
    
    for (let i = 1; i < this.currentPath.length; i++) {
      this.ctx.lineTo(this.currentPath[i].x, this.currentPath[i].y);
    }
    
    this.ctx.stroke();
  }
  
  update() {
    this.wind += this.config.windSpeed;
    this.plants.forEach(plant => plant.grow());
  }
  
  render() {
    this.drawBackground();
    this.plants.forEach(plant => plant.draw(this.ctx));
    this.drawCurrentPath();
  }
  
  animate() {
    this.update();
    this.render();
    requestAnimationFrame(() => this.animate());
  }
  
  clear() {
    this.plants = [];
    this.ctx.fillStyle = "#fff5e6";
    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
  }
}


class Branch {
  constructor(x, y, type, config, angle = -Math.PI / 2) {
    this.x = x;
    this.y = y;
    this.config = config;
    
    this.angle = angle;
    this.length = 0;
    this.target = 80;
    this.width = 3.5;
    this.done = false;
  }
  
  grow() {
    if (this.length < this.target) {
      this.length += this.config.growthSpeed;
    } else {
      this.done = true;
    }
  }
  
  getEndX() {
    return this.x + Math.cos(this.angle) * this.length;
  }
  
  getEndY() {
    return this.y + Math.sin(this.angle) * this.length;
  }
  
  draw(ctx) {
    ctx.strokeStyle = "#4f7c5c";
    ctx.lineWidth = this.width;
    
    ctx.beginPath();
    ctx.moveTo(this.x, this.y);
    ctx.lineTo(this.getEndX(), this.getEndY());
    ctx.stroke();
  }
}


/* INIT */

let garden;

document.addEventListener("DOMContentLoaded", () => {
  garden = new FlowerGarden("c");
});

window.clearGarden = () => {
  if (garden) garden.clear();
};


/* NAVIGATION */

function goHome(){
  window.location.href = "index.html";
}

function goEnscribe(){
  window.location.href = "quotes.html";
}

function goSongs(){
  window.location.href = "songs.html";
}

function goLines(){
  window.location.href = "lines.html";
}

function goFlowers(){
  window.location.href = "flower.html";
}

</script>

</body>
</html>
